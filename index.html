<!DOCTYPE html>
<html lang="bn">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>рж▓рзЛржбрж╢рзЗржбрж┐ржВ рж░рж┐ржХржнрж╛рж░рж┐</title>
<script src="https://cdn.tailwindcss.com"></script>
<style>
@import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap');
body { font-family: 'Orbitron', sans-serif; }
#flash { pointer-events:auto; }
.lit { filter: drop-shadow(0 0 10px #faff00); }
.button-hover:hover { scale:1.05; transition:0.2s; }
</style>
</head>
<body class="bg-black min-h-screen flex items-center justify-center">

<div id="gameContainer" class="w-[95vw] max-w-[1200px] bg-gradient-to-b from-[#02060a] to-[#071426] rounded-xl shadow-2xl overflow-hidden relative">

  <!-- TOP BAR -->
  <div class="flex items-center justify-between px-4 py-3 border-b border-cyan-900">
    <div class="flex items-center gap-3">
      <img src="assets/icon_power.png" alt="logo" class="w-10 h-10 rounded-md drop-shadow-xl">
      <div>
        <div class="text-cyan-300 font-bold text-lg">рж▓рзЛржбрж╢рзЗржбрж┐ржВ рж░рж┐ржХржнрж╛рж░рж┐</div>
        <div class="text-sm text-cyan-100">ржЕрж╕ржорзНржкрзВрж░рзНржг ржкрзНрж░ржЬрзЗржХрзНржЯ тЖТ рж╢рзЗрж╖ ржХрзНрж▓рж┐ржХ ржмрж╛ржБржЪрж╛ржмрзЗржи?</div>
      </div>
    </div>
    <div class="flex items-center gap-2">
      <button id="soundBtn" class="px-3 py-1 rounded-md bg-cyan-400 text-black font-bold button-hover">ЁЯОз рж╕рж╛ржЙржирзНржб: ON</button>
      <button id="creditsBtn" class="px-3 py-1 rounded-md bg-transparent border border-cyan-700 text-cyan-200 button-hover">Credits</button>
    </div>
  </div>

  <!-- MAIN GAME AREA -->
  <div class="flex" style="height:70vh">

    <!-- LEFT HUD -->
    <aside class="w-64 bg-[rgba(255,255,255,0.02)] p-4 border-r border-cyan-900 flex flex-col gap-4">
      <div>
        <div class="text-sm text-cyan-200">рж╕ржоржпрж╝ ржЕржмрж╢рж┐рж╖рзНржЯ</div>
        <div id="timerDisplay" class="text-2xl font-bold text-white">01:30</div>
      </div>
      <div>
        <div class="text-sm text-cyan-200">рж░рж╛ржЧ</div>
        <div class="w-full h-3 bg-[#062022] rounded mt-2 overflow-hidden border border-cyan-900">
          <div id="moodBar" class="h-full bg-gradient-to-r from-red-500 to-orange-400 transition-all" style="width:6%"></div>
        </div>
      </div>
      <div>
        <div class="text-sm text-cyan-200">рж╕рзНржЯрзЗржЬ</div>
        <div id="stageDisplay" class="text-white font-semibold mt-1">ржкрзНрж░рж┐-ржкрзНржпрж╛ржирж┐ржХ</div>
      </div>
      <div>
        <div class="text-xs text-cyan-200">ржЕрж░рзНржЬржи</div>
        <div class="flex gap-2 mt-2">
          <div id="foundFuse" class="w-12 h-12 bg-[rgba(255,255,255,0.02)] rounded flex items-center justify-center">тАФ</div>
          <div id="foundCat" class="w-12 h-12 bg-[rgba(255,255,255,0.02)] rounded flex items-center justify-center">тАФ</div>
          <div id="foundMeter" class="w-12 h-12 bg-[rgba(255,255,255,0.02)] rounded flex items-center justify-center">тАФ</div>
        </div>
      </div>
      <div>
        <div class="text-xs text-cyan-200">рж╣рж┐ржирзНржЯ</div>
        <div id="hintDisplay" class="text-sm text-cyan-100 mt-2">Mouse/Touch ржжрж┐ржпрж╝рзЗ ржлрзНрж▓рзНржпрж╛рж╢рж▓рж╛ржЗржЯ ржирж┐ржпрж╝ржирзНрждрзНрж░ржг ржХрж░рзБржи</div>
      </div>
    </aside>

    <!-- GAME PLAY AREA -->
    <main class="flex-1 relative" id="mainPlayArea">
      <div class="absolute inset-0 z-0 overflow-hidden">
        <div class="absolute left-0 top-[55%] w-[200%] h-[260px] opacity-70 -translate-x-8"
          style="background-image: url('assets/road_strip.png'); background-repeat: repeat-x; background-size: contain;">
        </div>
      </div>

      <!-- OBJECTS -->
      <div id="fuse" class="absolute left-[6%] top-[24%] w-[120px] h-[180px] bg-no-repeat bg-center cursor-pointer"
        style="background-image:url('assets/fuse_box.png')"></div>
      <div id="cat" class="absolute left-[40%] top-[38%] w-[120px] h-[120px] bg-no-repeat bg-center cursor-pointer hidden"
        style="background-image:url('assets/cat.png')"></div>
      <div id="meter" class="absolute left-[68%] top-[56%] w-[150px] h-[150px] bg-no-repeat bg-center cursor-pointer hidden"
        style="background-image:url('assets/meter_box.png')"></div>
      <div id="pole" class="absolute left-[46%] top-[8%] w-[120px] h-[220px] bg-no-repeat bg-center cursor-pointer hidden"
        style="background-image:url('assets/pole.png')"></div>

      <canvas id="particleCanvas" class="absolute inset-0 w-full h-full z-20 pointer-events-none"></canvas>
      <div id="flash" class="absolute inset-0 z-30 pointer-events-auto"></div>

      <!-- START OVERLAY -->
      <div id="overlay" class="absolute inset-0 z-50 flex items-center justify-center bg-black/70">
        <div class="bg-gradient-to-b from-[#00131a] to-[#001b22] p-6 rounded-xl text-center border border-cyan-900 max-w-xl">
          <h2 id="overlayTitle" class="text-2xl font-orbitron text-cyan-300 mb-2">рж╢рзБрж░рзБ ржХрж░рзБржи</h2>
          <p id="overlayText" class="text-cyan-100 mb-4 whitespace-pre-wrap">ржЦрзЗрж▓рж╛ржЯрж┐ рж╢рзБрж░рзБ ржХрж░рждрзЗ START ржЪрж╛ржкрзБржи</p>
          <div class="flex gap-3 justify-center">
            <button id="startBtn" class="px-4 py-2 bg-cyan-400 text-black rounded font-bold button-hover">ЁЯОо START</button>
          </div>
        </div>
      </div>

    </main>
  </div>
</div>

<script>
let step=0, mood=6, timer=90, running=false;
let found = {fuse:false, cat:false, meter:false, pole:false};
let soundsOn = true;
let hintTimer=null;
const overlay = document.getElementById('overlay');
const overlayTitle = document.getElementById('overlayTitle');
const overlayText = document.getElementById('overlayText');
const hintDisplay = document.getElementById('hintDisplay');
const moodBar = document.getElementById('moodBar');
const stageDisplay = document.getElementById('stageDisplay');
const timerDisplay = document.getElementById('timerDisplay');
const foundFuse = document.getElementById('foundFuse');
const foundCat = document.getElementById('foundCat');
const foundMeter = document.getElementById('foundMeter');

const ambientAudio = new Audio('assets/ambient_loop.mp3'); ambientAudio.loop=true;

function showHint(txt, ms=2500){
  hintDisplay.textContent = txt;
  if(hintTimer) clearTimeout(hintTimer);
  hintTimer=setTimeout(()=>{hintDisplay.textContent='Mouse/Touch ржжрж┐рзЯрзЗ ржлрзНрж▓рзНржпрж╛рж╢рж▓рж╛ржЗржЯ ржирж┐рзЯржирзНрждрзНрж░ржг ржХрж░рзБржи'}, ms);
}
function updateHUD(){
  moodBar.style.width = mood+'%';
  stageDisplay.textContent = step===0?'ржкрзНрж░рж┐-ржкрзНржпрж╛ржирж┐ржХ':step===1?'ржлрж┐ржЙржЬ ржЦрзЛржБржЬрж╛':step===1.5?'ржмрж┐ржбрж╝рж╛рж▓ рж╕рж░рж╛ржи':step===2?'ржорж┐ржЯрж╛рж░ ржЪрзЗржХ':step===3?'ржЦрзБржБржЯрж┐ ржЪрзЗржХ':step===4?'ржлрж╛ржЗржирж╛рж▓':'ржЕржЬрж╛ржирж╛';
  foundFuse.textContent=found.fuse?'ЁЯПЖ':'тАФ';
  foundCat.textContent=found.cat?'ЁЯР▒':'тАФ';
  foundMeter.textContent=found.meter?'ЁЯУЮ':'тАФ';
  timerDisplay.textContent = `${String(Math.floor(timer/60)).padStart(2,'0')}:${String(timer%60).padStart(2,'0')}`;
}

// BUTTONS
document.getElementById('startBtn').onclick = ()=>{
  overlay.style.display='none';
  running=true; step=1;
  showHint('рж▓рзЛржбрж╢рзЗржбрж┐ржВ рж╣рзЯрзЗржЫрзЗ тАФ ржлрж┐ржЙржЬ ржЦрзБржБржЬрзБржи!');
  ambientAudio.play().catch(()=>{});
  timerLoop(); moodLoop();
};
document.getElementById('soundBtn').onclick = ()=>{
  soundsOn = !soundsOn;
  document.getElementById('soundBtn').textContent = soundsOn?'ЁЯОз рж╕рж╛ржЙржирзНржб: ON':'ЁЯФЗ рж╕рж╛ржЙржирзНржб: OFF';
  if(soundsOn) ambientAudio.play().catch(()=>{}); else ambientAudio.pause();
};
document.getElementById('creditsBtn').onclick = ()=>{
  window.open('https://www.facebook.com/ahm.habib.39','_blank');
};

// OBJECT CLICKS
function clickFuse(){if(step!==1) return; found.fuse=true; step=1.5; document.getElementById('cat').classList.remove('hidden'); showHint('ржмрж┐ржбрж╝рж╛рж▓ рж╕рж░рж╛ржи'); updateHUD();}
function clickCat(){if(step!==1.5) return; found.cat=true; step=2; document.getElementById('cat').classList.add('hidden'); document.getElementById('meter').classList.remove('hidden'); showHint('ржорж┐ржЯрж╛рж░ ржЪрзЗржХ ржХрж░рзБржи'); updateHUD();}
function clickMeter(){if(step!==2) return; found.meter=true; step=3; document.getElementById('pole').classList.remove('hidden'); showHint('ржЦрзБржБржЯрж┐ ржЪрзЗржХ ржХрж░рзБржи'); updateHUD();}
function clickPole(){if(step!==3) return; found.pole=true; step=4; showHint('ржорж┐рж╢ржи рж╕ржорзНржкржирзНржи!'); updateHUD(); ambientAudio.pause();}

// ADD EVENT LISTENERS
document.getElementById('fuse').onclick = clickFuse;
document.getElementById('cat').onclick = clickCat;
document.getElementById('meter').onclick = clickMeter;
document.getElementById('pole').onclick = clickPole;

// TIMER LOOP
function timerLoop(){if(!running) return; const t=setInterval(()=>{if(timer<=0){clearInterval(t); running=false; showHint('рж╕ржорзЯ рж╢рзЗрж╖!'); ambientAudio.pause(); return;} timer--; updateHUD();},1000);}

// MOOD LOOP
function moodLoop(){if(!running) return; const m=setInterval(()=>{if(mood>=100){clearInterval(m); running=false; showHint('рж░рж╛ржЧ ржПржд ржмрзЗрзЬрзЗ ржЧрзЗрж▓!'); ambientAudio.pause(); return;} mood=Math.min(100,mood+2); updateHUD();},1500);}

// FLASHLIGHT FOLLOW
const flash=document.getElementById('flash');
flash.addEventListener('mousemove', e=>{
  const x=e.clientX; const y=e.clientY;
  flash.style.background=`radial-gradient(circle 160px at ${x}px ${y}px, rgba(255,255,230,0.95), rgba(0,0,0,0) 40%), radial-gradient(circle 360px at ${x}px ${y}px, rgba(255,255,255,0.04), rgba(0,0,0,0.92) 60%)`;
});
flash.addEventListener('touchmove', e=>{
  const x=e.touches[0].clientX; const y=e.touches[0].clientY;
  flash.style.background=`radial-gradient(circle 160px at ${x}px ${y}px, rgba(255,255,230,0.95), rgba(0,0,0,0) 40%), radial-gradient(circle 360px at ${x}px ${y}px, rgba(255,255,255,0.04), rgba(0,0,0,0.92) 60%)`;
});
updateHUD();
</script>

</body>
</html>
