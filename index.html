<!DOCTYPE html>
<html lang="bn">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>‡¶≤‡ßã‡¶°‡¶∂‡ßá‡¶°‡¶ø‡¶Ç ‡¶∞‡¶ø‡¶ï‡¶≠‡¶æ‡¶∞‡¶ø - Ahsan Habib</title>
  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body { margin:0; font-family: 'Orbitron', sans-serif; overflow: hidden; }
    #flash { position:absolute; inset:0; z-index:30; pointer-events:auto; }
    .lit { filter: brightness(1.6) drop-shadow(0 0 6px #fff); }
    canvas { position:absolute; inset:0; pointer-events:none; z-index:20; }
  </style>
</head>
<body class="bg-black">
  <div class="min-h-screen flex items-center justify-center">
    <div class="w-[92vw] max-w-[1100px] bg-gradient-to-b from-[#02060a] to-[#071426] rounded-xl shadow-2xl overflow-hidden relative">

      <!-- TOP BAR -->
      <div class="flex items-center justify-between px-4 py-3 border-b border-cyan-900">
        <div class="flex items-center gap-3">
          <img src="/assets/icon_power.png" alt="logo" class="w-10 h-10 rounded-md drop-shadow-xl" />
          <div>
            <div class="text-cyan-300 font-bold text-lg font-orbitron">‡¶≤‡ßã‡¶°‡¶∂‡ßá‡¶°‡¶ø‡¶Ç ‡¶∞‡¶ø‡¶ï‡¶≠‡¶æ‡¶∞‡¶ø</div>
            <div class="text-sm text-cyan-100">‡¶Ö‡¶∏‡¶Æ‡ßç‡¶™‡ßÇ‡¶∞‡ßç‡¶£ ‡¶™‡ßç‡¶∞‡¶ú‡ßá‡¶ï‡ßç‡¶ü ‚Üí ‡¶∂‡ßá‡¶∑ ‡¶ï‡ßç‡¶≤‡¶ø‡¶ï ‡¶¨‡¶æ‡¶Å‡¶ö‡¶æ‡¶¨‡ßá‡¶®?</div>
          </div>
        </div>
        <div class="flex items-center gap-2">
          <button id="soundBtn" class="px-3 py-1 rounded-md bg-cyan-400 text-black font-bold">üéß ‡¶∏‡¶æ‡¶â‡¶®‡ßç‡¶°: ON</button>
          <button id="saveBtn" class="px-3 py-1 rounded-md bg-transparent border border-cyan-700 text-cyan-200">üíæ ‡¶∏‡ßá‡¶≠</button>
          <button id="resetBtn" class="px-3 py-1 rounded-md bg-transparent border border-cyan-700 text-cyan-200">‚ôªÔ∏è ‡¶∞‡¶ø‡¶∏‡ßá‡¶ü</button>
          <a href="https://www.facebook.com/ahm.habib.39" target="_blank" class="px-3 py-1 rounded-md bg-cyan-500 text-black font-bold">Credits: AHSAN HABIB</a>
        </div>
      </div>

      <!-- MAIN STAGE -->
      <div class="flex" style="height:72vh;">
        <!-- LEFT HUD -->
        <aside class="w-64 bg-[rgba(255,255,255,0.02)] p-4 border-r border-cyan-900 text-cyan-200">
          <div class="mb-3">
            <div class="text-sm">‡¶∏‡¶Æ‡¶Ø‡¶º ‡¶Ö‡¶¨‡¶∂‡¶ø‡¶∑‡ßç‡¶ü</div>
            <div id="timer" class="text-2xl font-bold text-white">01:30</div>
          </div>
          <div class="mb-4">
            <div class="text-sm">‡¶∞‡¶æ‡¶ó</div>
            <div class="w-full h-3 bg-[#062022] rounded mt-2 overflow-hidden border border-cyan-900">
              <div id="moodBar" class="h-full bg-gradient-to-r from-red-500 to-orange-400 w-[6%] transition-all"></div>
            </div>
          </div>
          <div class="mb-4">
            <div class="text-sm">‡¶∏‡ßç‡¶ü‡ßá‡¶ú</div>
            <div id="stageText" class="text-white font-semibold mt-1">‡¶™‡ßç‡¶∞‡¶ø-‡¶™‡ßç‡¶Ø‡¶æ‡¶®‡¶ø‡¶ï</div>
          </div>
          <div class="mb-4 p-2 bg-[rgba(255,255,255,0.02)] rounded">
            <div class="text-xs">‡¶á‡¶®‡ßç‡¶ü‡¶æ‡¶∞‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡¶∂‡¶®</div>
            <div class="flex gap-2 mt-2">
              <button id="hintBtn" class="px-2 py-1 bg-transparent border border-cyan-800 rounded text-cyan-200 text-sm">‡¶π‡¶ø‡¶®‡ßç‡¶ü</button>
              <button id="mapBtn" class="px-2 py-1 bg-transparent border border-cyan-800 rounded text-cyan-200 text-sm">‡¶Æ‡¶ø‡¶®‡¶ø-‡¶Æ‡ßç‡¶Ø‡¶æ‡¶™</button>
            </div>
          </div>
          <div class="text-xs">‡¶Ö‡¶∞‡ßç‡¶ú‡¶®</div>
          <div class="flex gap-2 mt-2">
            <div id="achFuse" class="w-12 h-12 bg-[rgba(255,255,255,0.02)] rounded flex items-center justify-center">‚Äî</div>
            <div id="achCat" class="w-12 h-12 bg-[rgba(255,255,255,0.02)] rounded flex items-center justify-center">‚Äî</div>
            <div id="achMeter" class="w-12 h-12 bg-[rgba(255,255,255,0.02)] rounded flex items-center justify-center">‚Äî</div>
          </div>
        </aside>

        <!-- PLAY AREA -->
        <main class="flex-1 relative overflow-hidden" id="playArea">
          <!-- Parallax Background -->
          <div id="bgRoad" class="absolute inset-0 -z-10 bg-[url('/assets/road_strip.png')] bg-repeat-x bg-contain opacity-70"></div>

          <!-- Targets -->
          <div id="fuse" class="absolute left-[6%] top-[24%] w-[120px] h-[180px] bg-no-repeat bg-center z-10" style="background-image:url('/assets/fuse_box.png')"></div>
          <div id="cat" class="absolute left-[40%] top-[38%] w-[120px] h-[120px] bg-no-repeat bg-center z-10 hidden" style="background-image:url('/assets/cat.png')"></div>
          <div id="meter" class="absolute left-[68%] top-[56%] w-[150px] h-[150px] bg-no-repeat bg-center z-10 hidden" style="background-image:url('/assets/meter_box.png')"></div>
          <div id="pole" class="absolute left-[46%] top-[8%] w-[120px] h-[220px] bg-no-repeat bg-center z-10 hidden" style="background-image:url('/assets/pole.png')"></div>

          <!-- Particles -->
          <canvas id="particles"></canvas>

          <!-- Flashlight -->
          <div id="flash"></div>

          <!-- Floating Hint -->
          <div id="hintText" class="absolute bottom-6 left-1/2 -translate-x-1/2 bg-black/50 px-4 py-2 rounded-full border border-cyan-800 text-sm text-cyan-100 z-40">
            ‡¶Æ‡¶æ‡¶â‡¶∏/‡¶Ü‡¶ô‡ßÅ‡¶≤ ‡¶®‡¶ø‡ßü‡ßá ‡¶ñ‡ßá‡¶≤‡ßÅ‡¶®
          </div>
        </main>
      </div>

      <!-- Overlay -->
      <div id="overlay" class="absolute inset-0 z-50 flex items-center justify-center bg-black/70">
        <div class="bg-gradient-to-b from-[#00131a] to-[#001b22] p-6 rounded-xl text-center border border-cyan-900 max-w-xl">
          <h2 id="overlayTitle" class="text-2xl font-orbitron text-cyan-300 mb-2">‡¶∂‡ßÅ‡¶∞‡ßÅ ‡¶ï‡¶∞‡ßÅ‡¶®</h2>
          <p id="overlayText" class="text-cyan-100 mb-4 whitespace-pre-wrap">‡¶ñ‡ßá‡¶≤‡¶æ‡¶ü‡¶ø ‡¶∂‡ßÅ‡¶∞‡ßÅ ‡¶ï‡¶∞‡¶§‡ßá START ‡¶ö‡¶æ‡¶™‡ßÅ‡¶®</p>
          <div class="flex gap-3 justify-center">
            <button id="startBtn" class="px-4 py-2 bg-cyan-400 text-black rounded font-bold">üéÆ START</button>
            <button id="tutorialBtn" class="px-4 py-2 border border-cyan-800 text-cyan-200 rounded">üìñ ‡¶ü‡¶ø‡¶â‡¶ü‡ßã‡¶∞‡¶ø‡¶Ø‡¶º‡¶æ‡¶≤</button>
            <button id="loadBtn" class="px-4 py-2 border border-cyan-800 text-cyan-200 rounded">üíæ ‡¶∏‡ßá‡¶≠ ‡¶≤‡ßã‡¶°</button>
          </div>
        </div>
      </div>

    </div>
  </div>

  <!-- SCRIPT -->
  <script>
  // ----------------- STATE -----------------
  let step=0, mood=6, timer=90, running=false;
  const found={fuse:false, cat:false, meter:false, pole:false};
  let soundsOn=true;

  const flash=document.getElementById('flash');
  const particles=document.getElementById('particles');
  const ctx=particles.getContext('2d');
  const particleStore=[];
  let raf;

  const ambient=new Audio('/assets/ambient_loop.mp3'); ambient.loop=true;
  const clickSound=new Audio('/assets/click.mp3');
  const sparkSound=new Audio('/assets/spark.mp3');
  const errorSound=new Audio('/assets/error_buzz.mp3');

  // ----------------- UTILS -----------------
  function formatTime(sec){ const m=Math.floor(sec/60).toString().padStart(2,'0'); const s=(sec%60).toString().padStart(2,'0'); return `${m}:${s}`; }
  function showHint(t,ms=2500){ document.getElementById('hintText').innerText=t; if(window.hintTimer) clearTimeout(window.hintTimer); window.hintTimer=setTimeout(()=>{document.getElementById('hintText').innerText=''},ms); }
  function spawnSparks(x,y,n=12){ for(let i=0;i<n;i++){ particleStore.push({x,y,vx:(Math.random()-0.5)*3,vy:(Math.random()-1.8)*3,life:30+Math.random()*30,size:1+Math.random()*2,color:`rgba(255,${150+Math.floor(Math.random()*100)},0,1)`}); if(soundsOn) sparkSound.play().catch(()=>{}); } }

  function center(el){ const r=el.getBoundingClientRect(); const p=flash.getBoundingClientRect(); return {x:r.left-p.left+r.width/2, y:r.top-p.top+r.height/2}; }
  function isNear(x,y,el,thresh=120){ const c=center(el); return Math.hypot(x-c.x,y-c.y)<thresh; }

  function updateHUD(){
    document.getElementById('timer').innerText=formatTime(timer);
    document.getElementById('moodBar').style.width=mood+'%';
    const stages=['‡¶™‡ßç‡¶∞‡¶ø-‡¶™‡ßç‡¶Ø‡¶æ‡¶®‡¶ø‡¶ï','‡¶´‡¶ø‡¶â‡¶ú ‡¶ñ‡ßã‡¶Å‡¶ú‡¶æ','‡¶¨‡¶ø‡¶°‡¶º‡¶æ‡¶≤ ‡¶∏‡¶∞‡¶æ‡¶®','‡¶Æ‡¶ø‡¶ü‡¶æ‡¶∞ ‡¶ö‡ßá‡¶ï','‡¶ñ‡ßÅ‡¶Å‡¶ü‡¶ø ‡¶ö‡ßá‡¶ï','‡¶´‡¶æ‡¶á‡¶®‡¶æ‡¶≤'];
    document.getElementById('stageText').innerText=stages[Math.floor(step)]||'‡¶Ö‡¶ú‡¶æ‡¶®‡¶æ';
    document.getElementById('achFuse').innerText=found.fuse?'üèÜ':'‚Äî';
    document.getElementById('achCat').innerText=found.cat?'üê±':'‚Äî';
    document.getElementById('achMeter').innerText=found.meter?'üìû':'‚Äî';
  }

  function endGame(success,msg){
    running=false;
    ambient.pause();
    document.getElementById('overlayTitle').innerText=success?'‡¶¨‡¶ø‡¶ú‡¶Ø‡¶º!':'‡¶Æ‡¶ø‡¶∂‡¶® ‡¶¨‡ßç‡¶Ø‡¶∞‡ßç‡¶•!';
    document.getElementById('overlayText').innerText=msg;
    document.getElementById('overlay').style.display='flex';
  }

  // ----------------- GAME LOOP -----------------
  function tickParticles(){
    ctx.clearRect(0,0,particles.width,particles.height);
    for(let i=particleStore.length-1;i>=0;i--){
      const p=particleStore[i];
      p.x+=p.vx;p.y+=p.vy;p.vy+=0.06;p.life--;
      ctx.beginPath(); ctx.globalAlpha=Math.max(0,p.life/60); ctx.fillStyle=p.color;
      ctx.arc(p.x,p.y,p.size,0,Math.PI*2); ctx.fill();
      if(p.life<=0) particleStore.splice(i,1);
    }
    raf=requestAnimationFrame(tickParticles);
  }
  function resizeCanvas(){ particles.width=particles.clientWidth; particles.height=particles.clientHeight; }
  window.addEventListener('resize',resizeCanvas); resizeCanvas(); tickParticles();

  // ----------------- EVENTS -----------------
  document.getElementById('playArea').addEventListener('mousemove',onMove);
  document.getElementById('playArea').addEventListener('touchmove',onMove);

  function onMove(e){
    const rect=flash.getBoundingClientRect();
    const x=(e.touches?e.touches[0].clientX:e.clientX)-rect.left;
    const y=(e.touches?e.touches[0].clientY:e.clientY)-rect.top;
    flash.style.background=`radial-gradient(circle 160px at ${x}px ${y}px, rgba(255,255,230,0.95), rgba(0,0,0,0) 40%), radial-gradient(circle 360px at ${x}px ${y}px, rgba(255,255,255,0.04), rgba(0,0,0,0.92) 60%)`;
    checkProximity(x,y);
  }

  function checkProximity(x,y){
    const fuse=document.getElementById('fuse');
    const cat=document.getElementById('cat');
    const meter=document.getElementById('meter');
    const pole=document.getElementById('pole');
    [fuse,cat,meter,pole].forEach(it=>it&&it.classList.remove('lit'));
    if(step===1&&fuse&&isNear(x,y,fuse)){ fuse.classList.add('lit'); showHint('‡¶´‡¶ø‡¶â‡¶ú ‡¶¨‡¶ï‡ßç‡¶∏ - ‡¶ï‡ßç‡¶≤‡¶ø‡¶ï ‡¶ï‡¶∞‡ßÅ‡¶®'); }
    else if(step===1.5&&cat&&isNear(x,y,cat)){ cat.classList.add('lit'); showHint('‡¶¨‡¶ø‡¶°‡¶º‡¶æ‡¶≤- ‡¶ï‡ßç‡¶≤‡¶ø‡¶ï ‡¶ï‡¶∞‡ßá ‡¶∏‡¶∞‡¶æ‡¶®'); }
    else if(step===2&&meter&&isNear(x,y,meter)){ meter.classList.add('lit'); showHint('‡¶Æ‡¶ø‡¶ü‡¶æ‡¶∞ - ‡¶ï‡ßç‡¶≤‡¶ø‡¶ï ‡¶ï‡¶∞‡ßÅ‡¶®'); }
    else if(step===3&&pole&&isNear(x,y,pole)){ pole.classList.add('lit'); showHint('‡¶ñ‡ßÅ‡¶Å‡¶ü‡¶ø - ‡¶ï‡ßç‡¶≤‡¶ø‡¶ï ‡¶ï‡¶∞‡ßÅ‡¶®'); }
    else showHint('‡¶´‡ßç‡¶≤‡ßç‡¶Ø‡¶æ‡¶∂‡¶≤‡¶æ‡¶á‡¶ü ‡¶ò‡ßã‡¶∞‡¶æ‡¶® ‡¶è‡¶¨‡¶Ç ‡¶ó‡ßÅ‡¶∞‡ßÅ‡¶§‡ßç‡¶¨‡¶™‡ßÇ‡¶∞‡ßç‡¶£ ‡¶ú‡¶ø‡¶®‡¶ø‡¶∏ ‡¶ñ‡ßÅ‡¶Å‡¶ú‡ßÅ‡¶®');
  }

  // ----------------- START / BUTTONS -----------------
  document.getElementById('startBtn').onclick=start;
  document.getElementById('tutorialBtn').onclick=()=>alert('Move mouse / touch to control flashlight.\nFind fuse ‚Üí click.\nMove cat ‚Üí click.\nCheck meter ‚Üí call office ‚Üí get fuse from pole.');
  document.getElementById('soundBtn').onclick=()=>{
    soundsOn=!soundsOn;
    if(soundsOn){ ambient.play().catch(()=>{}); document.getElementById('soundBtn').innerText='üéß ‡¶∏‡¶æ‡¶â‡¶®‡ßç‡¶°: ON'; }
    else{ ambient.pause(); document.getElementById('soundBtn').innerText='üîá ‡¶∏‡¶æ‡¶â‡¶®‡ßç‡¶°: OFF'; }
  };
  document.getElementById('hintBtn').onclick=()=>showHint('‡¶§‡¶æ‡¶°‡¶º‡¶æ‡¶§‡¶æ‡¶°‡¶º‡¶ø! ‡¶´‡¶ø‡¶â‡¶ú ‡¶ñ‡ßÅ‡¶Å‡¶ú‡ßÅ‡¶®');
  document.getElementById('mapBtn').onclick=()=>alert('‡¶Æ‡¶ø‡¶®‡¶ø-‡¶Æ‡ßç‡¶Ø‡¶æ‡¶™:\n‡¶´‡¶ø‡¶â‡¶ú: ‡¶¨‡¶æ‡¶Æ\n‡¶Æ‡¶ø‡¶ü‡¶æ‡¶∞: ‡¶°‡¶æ‡¶®\n‡¶ñ‡ßÅ‡¶Å‡¶ü‡¶ø: ‡¶∏‡¶æ‡¶Æ‡¶®‡ßá‡¶∞ ‡¶¶‡¶ø‡¶ï‡ßá');
  document.getElementById('saveBtn').onclick=()=>localStorage.setItem('ls_save',JSON.stringify({step,mood,timer,running,found})),showHint('‡¶∏‡ßá‡¶≠ ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá');
  document.getElementById('resetBtn').onclick=()=>{ if(confirm('‡¶∞‡¶ø‡¶∏‡ßá‡¶ü ‡¶ï‡¶∞‡¶¨‡ßá‡¶®?')){ localStorage.removeItem('ls_save'); location.reload(); } };
  document.getElementById('loadBtn').onclick=()=>{
    const raw=localStorage.getItem('ls_save'); if(!raw)return showHint('‡¶ï‡ßã‡¶®‡ßã ‡¶∏‡ßá‡¶≠ ‡¶´‡¶æ‡¶á‡¶≤ ‡¶™‡¶æ‡¶ì‡ßü‡¶æ ‡¶Ø‡¶æ‡ßü ‡¶®‡¶ø');
    try{ const s=JSON.parse(raw); step=s.step||0; mood=s.mood||6; timer=s.timer||90; running=s.running||false; Object.assign(found,s.found||found); updateHUD(); showHint('‡¶∏‡ßá‡¶≠ ‡¶≤‡ßã‡¶° ‡¶π‡ßü‡ßá‡¶õ‡ßá'); }catch(e){showHint('‡¶∏‡ßá‡¶≠ ‡¶≤‡ßã‡¶°‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ');}
  };

  // ----------------- GAME FUNCTIONS -----------------
  function start(){
    document.getElementById('overlay').style.display='none';
    running=true; step=0; mood=6; timer=90;
    if(soundsOn) ambient.play().catch(()=>{});
    let pre=4; showHint(`‡¶≤‡ßã‡¶°‡¶∂‡ßá‡¶°‡¶ø‡¶Ç ‡¶∂‡ßÅ‡¶∞‡ßÅ ‡¶π‡¶§‡ßá ‡¶Ü‡¶∞ ${pre} ‡¶∏‡ßá‡¶ï‡ßá‡¶®‡ßç‡¶°`);
    const preInterval=setInterval(()=>{
      pre-=1;
      if(pre>0) showHint(`‡¶≤‡ßã‡¶°‡¶∂‡ßá‡¶°‡¶ø‡¶Ç ‡¶∂‡ßÅ‡¶∞‡ßÅ ‡¶π‡¶§‡ßá ‡¶Ü‡¶∞ ${pre} ‡¶∏‡ßá‡¶ï‡ßá‡¶®‡ßç‡¶°`);
      else{ clearInterval(preInterval); beginMission(); }
    },1000);
  }
  function beginMission(){ step=1; document.getElementById('cat').classList.add('hidden'); document.getElementById('meter').classList.add('hidden'); document.getElementById('pole').classList.add('hidden'); updateHUD(); showHint('‡¶≤‡ßã‡¶°‡¶∂‡ßá‡¶°‡¶ø‡¶Ç ‡¶π‡ßü‡ßá‡¶õ‡ßá ‚Äî ‡¶´‡¶ø‡¶â‡¶ú ‡¶ñ‡ßÅ‡¶Å‡¶ú‡ßÅ‡¶®!'); }
  function win(){ endGame(true,'‡¶¨‡¶ø‡¶¶‡ßç‡¶Ø‡ßÅ‡ßé ‡¶´‡¶ø‡¶∞‡ßá ‡¶è‡¶∏‡ßá‡¶õ‡ßá ‚Äî ‡¶ï‡¶æ‡¶ú ‡¶∏‡ßá‡¶≠ ‡¶π‡ßü‡ßá‡¶õ‡ßá (‡¶ï‡¶ø‡¶®‡ßç‡¶§‡ßÅ ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∞‡¶ø ‡¶ï‡¶Æ)'); }

  // CLICK HANDLERS
  document.getElementById('fuse').onclick=e=>{ if(step!==1) return; step=1.5; found.fuse=true; document.getElementById('cat').classList.remove('hidden'); spawnSparks(e.offsetX,e.offsetY,20); updateHUD(); };
  document.getElementById('cat').onclick=e=>{ if(step!==1.5) return; step=2; found.cat=true; document.getElementById('cat').classList.add('hidden'); document.getElementById('meter').classList.remove('hidden'); spawnSparks(e.offsetX,e.offsetY,14); updateHUD(); };
  document.getElementById('meter').onclick=e=>{ if(step!==2) return; step=3; found.meter=true; document.getElementById('pole').classList.remove('hidden'); const num=prompt('‡¶Ö‡¶´‡¶ø‡¶∏‡ßá ‡¶ï‡¶≤ ‡¶ï‡¶∞‡ßÅ‡¶® ‚Äî ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ ‡ß© ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ‡ßü ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶® (‡¶ü‡¶ø‡¶™: 555)',''); if(num==='555'){ mood=Math.max(0,mood-8); showHint('‡¶ï‡¶≤ ‡¶π‡ßü‡ßá‡¶õ‡ßá ‚Äî ‡¶Æ‡¶æ‡¶†‡ßá ‡¶ó‡¶ø‡ßü‡ßá ‡¶´‡¶ø‡¶â‡¶ú ‡¶Ü‡¶®‡ßÅ‡¶®'); }else{ mood+=12; if(soundsOn) errorSound.play().catch(()=>{}); showHint('‡¶≠‡ßÅ‡¶≤ ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ ‚Äî ‡¶Æ‡ßá‡¶ú‡¶æ‡¶ú ‡¶¨‡¶æ‡ßú‡¶≤'); } updateHUD(); };
  document.getElementById('pole').onclick=e=>{ if(step!==3) return; step=4; found.pole=true; setTimeout(()=>win(),1500); updateHUD(); };

  // ----------------- TIMER & MOOD -----------------
  setInterval(()=>{
    if(running){ timer--; if(timer<=0){ endGame(false,'‡¶∏‡¶Æ‡ßü ‡¶∂‡ßá‡¶∑ ‚Äî ‡¶™‡ßç‡¶∞‡¶ú‡ßá‡¶ï‡ßç‡¶ü ‡¶∏‡ßá‡¶≠ ‡¶π‡ßü‡¶®‡¶ø'); } updateHUD(); }
  },1000);
  setInterval(()=>{ if(running){ mood=Math.min(100,mood+2); if(mood>=90) endGame(false,'‡¶∞‡¶æ‡¶ó ‡¶è‡¶§ ‡¶¨‡ßá‡ßú‡ßá ‡¶ó‡ßá‡¶≤ ‡¶≤‡ßç‡¶Ø‡¶æ‡¶™‡¶ü‡¶™ ‡¶ï‡ßç‡¶∞‡ßç‡¶Ø‡¶æ‡¶∂ ‡¶ï‡¶∞‡¶≤‡ßã!'); updateHUD(); } },1500);

  // ----------------- KEY SHORTCUTS -----------------
  window.addEventListener('keydown',e=>{
    if(e.key==='s') document.getElementById('saveBtn').click();
    if(e.key==='r'){ if(confirm('‡¶∞‡¶ø‡¶∏‡ßá‡¶ü ‡¶ï‡¶∞‡¶¨‡ßá‡¶®?')){ localStorage.removeItem('ls_save'); location.reload(); } }
    if(e.key==='m') document.getElementById('soundBtn').click();
  });
  </script>
</body>
</html>
